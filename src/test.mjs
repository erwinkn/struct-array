var ot=Object.defineProperty;var it=(t,e)=>{for(var r in e)ot(t,r,{get:e[r],enumerable:!0})};var F={type:"signed",size:4};function U(t){let e=t.type==="float"?"Float":t.type==="unsigned"?"Uint":"Int",r=t.size>4?"Big":"",n=t.size*8;return r+e+n}function H(t){let e=0,r={},n="const offset = index * this.structSize; return {",o="const offset = index * this.structSize;";for(let i of Object.keys(t)){let s=t[i];if(s.type==="boolean")o+=`this.$$view.setUint8(offset + ${e}, value.${i});`,n+=`${i}:!!this.$$view.getUint8(offset + ${e}),`,Object.defineProperty(r,i,{enumerable:!0,get:new Function(`return !!this.$$view.getUint8(this.$$offset + ${e});`),set:new Function("value",`this.$$view.setUint8(this.$$offset + ${e}, value);`)}),e+=1;else if(s.type==="unsigned"||s.type==="signed"||s.type==="float")o+=`this.$$view.set${U(s)}(offset + ${e}, value.${i});`,n+=`${i}:this.$$view.get${U(s)}(offset + ${e}),`,Object.defineProperty(r,i,{enumerable:!0,get:new Function(`return this.$$view.get${U(s)}(this.$$offset + ${e});`),set:new Function("value",`this.$$view.set${U(s)}(this.$$offset + ${e}, value);`)}),e+=s.size;else throw new Error("Unsupported data type")}r.$$schema=t,r.grow=function(){let i=Math.min(this.$$capacity*2,Number.MAX_SAFE_INTEGER),s=new Uint8Array(this.$$view.buffer),u=new Uint8Array(i*this.structSize);u.set(s),this.$$view=new DataView(u.buffer),this.$$capacity=i},r.structSize=e,r.move=function(i){this.$$offset=i*this.structSize},r.next=function(){this.$$offset+=this.structSize},n+="};",r.get=new Function("index",n),r.set=new Function("index","value",o),r.push=function(i){this.length===this.$$capacity&&this.grow(),this.set(this.length,i),this.length+=1};let c=new Function("capacity",`capacity = capacity || 24; this.$$offset = 0; this.length = 0; this.$$capacity = capacity;this.$$view = new DataView(new ArrayBuffer(capacity * ${e}));`);return c.prototype=r,c}var K=(()=>{let t=Math.ceil;try{return Bun.nanoseconds(),{now:Bun.nanoseconds,diff:(e,r)=>e-r}}catch{}try{if(process.hrtime.bigint(),"Deno"in globalThis)throw 0;return{now:process.hrtime.bigint,diff:(e,r)=>Number(e-r)}}catch{}try{return Deno.core.opSync("op_bench_now"),{diff:(e,r)=>e-r,now:()=>Deno.core.opSync("op_bench_now")}}catch{}try{return Deno.core.opSync("op_now"),{diff:(e,r)=>e-r,now:()=>t(1e6*Deno.core.opSync("op_now"))}}catch{}try{return $.agent.monotonicNow(),{diff:(e,r)=>e-r,now:()=>t(1e6*$.agent.monotonicNow())}}catch{}return{diff:(e,r)=>e-r,now:()=>t(1e6*performance.now())}})(),X=K.now,b=K.diff;var y=X;function Y(t,e){return t>e?1:t<e?-1:0}function q(t,e,r,n,o,c,i){return{n:t,min:n,max:o,jit:c,p75:i[Math.ceil(t*(75/100))-1],p99:i[Math.ceil(t*(99/100))-1],avg:e?Math.ceil(r/t):r/t,p995:i[Math.ceil(t*(99.5/100))-1],p999:i[Math.ceil(t*(99.9/100))-1]}}async function j(t,e,r=!1){let n=0,o=0,c=0,i=1/0,s=-1/0,u=new Array,S=new Array(10);t:{let d=0,f=10;for(;f--;){let p=y(),m=e();if(S[d++]=b(y(),p),m instanceof Promise)return await m,D(t,e,r)}let g=0;f=4;let a=10*1e6;for(;0<a||0<f--;){let p=y();e();let m=b(y(),p);if(0>m){f++;continue}g++,c+=m,a-=m}c/=g}t:if(c>1e4){let d=10,f=t*1e6;for(;0<f||0<d--;){let g=y();e();let a=b(y(),g);if(0>a){d++;continue}n++,o+=a,f-=a,u.push(a),a<i&&(i=a),a>s&&(s=a)}}else{let d=10,f=t*1e6;if(r){let g=new Array(1e4);for(;0<f||0<d--;){let a=y();for(let m=0;m<1e4;m++)g[m]=e();let p=b(y(),a)/1e4;if(0>p){d++;continue}n++,o+=p,u.push(p),f-=p*1e4,p<i&&(i=p),p>s&&(s=p)}}else for(;0<f||0<d--;){let g=y();for(let p=0;p<1e4;p++)e();let a=b(y(),g)/1e4;if(0>a){d++;continue}n++,o+=a,u.push(a),f-=a*1e4,a<i&&(i=a),a>s&&(s=a)}}return u.sort(Y),q(n,c>1e4,o,i,s,S,u)}async function D(t,e,r=!1){let n=0,o=0,c=0,i=1/0,s=-1/0,u=new Array,S=new Array(10);t:{let d=0,f=10;for(;f--;){let p=y();await e(),S[d++]=b(y(),p)}let g=0;f=4;let a=10*1e6;for(;0<a||0<f--;){let p=y();await e();let m=b(y(),p);if(0>m){f++;continue}g++,c+=m,a-=m}c/=g}t:if(c>1e4){let d=10,f=t*1e6;for(;0<f||0<d--;){let g=y();await e();let a=b(y(),g);if(0>a){d++;continue}n++,o+=a,f-=a,u.push(a),a<i&&(i=a),a>s&&(s=a)}}else{let d=10,f=t*1e6;if(r){let g=new Array(1e4);for(;0<f||0<d--;){let a=y();for(let m=0;m<1e4;m++)g[m]=await e();let p=b(y(),a)/1e4;if(0>p){d++;continue}n++,o+=p,u.push(p),f-=p*1e4,p<i&&(i=p),p>s&&(s=p)}}else for(;0<f||0<d--;){let g=y();for(let p=0;p<1e4;p++)await e();let a=b(y(),g)/1e4;if(0>a){d++;continue}n++,o+=a,u.push(a),f-=a*1e4,a<i&&(i=a),a>s&&(s=a)}}return u.sort(Y),q(n,c>1e4,o,i,s,S,u)}var T={};it(T,{bgBlack:()=>bt,bgBlue:()=>St,bgCyan:()=>At,bgGreen:()=>xt,bgMagenta:()=>vt,bgRed:()=>wt,bgWhite:()=>kt,bgYellow:()=>$t,black:()=>dt,blue:()=>gt,bold:()=>I,cyan:()=>_,dim:()=>ct,gray:()=>w,green:()=>mt,hidden:()=>lt,inverse:()=>ft,italic:()=>ut,magenta:()=>L,red:()=>M,reset:()=>at,strikethrough:()=>yt,underline:()=>pt,white:()=>ht,yellow:()=>O});function l(t,e){let r=new RegExp(`\\x1b\\[${e}m`,"g"),n=`\x1B[${t}m`,o=`\x1B[${e}m`;return function(c,i){return!c||i==null?i:n+(~(""+i).indexOf(o)?i.replace(r,o+n):i)+o}}var at=l(0,0),I=l(1,22),ct=l(2,22),ut=l(3,23),pt=l(4,24),ft=l(7,27),lt=l(8,28),yt=l(9,29),dt=l(30,39),M=l(31,39),mt=l(32,39),O=l(33,39),gt=l(34,39),L=l(35,39),_=l(36,39),ht=l(37,39),w=l(90,39),bt=l(40,49),wt=l(41,49),xt=l(42,49),$t=l(43,49),St=l(44,49),vt=l(45,49),At=l(46,49),kt=l(47,49);function v(t,e="en-us"){return t<1?`${Number((t*1e3).toFixed(2)).toLocaleString(e)} ps`:t<1e3?`${Number(t.toFixed(2)).toLocaleString(e)} ns`:t<1e6?`${Number((t/1e3).toFixed(2)).toLocaleString(e)} \xB5s`:t<1e9?`${Number((t/1e6).toFixed(2)).toLocaleString(e)} ms`:t<1e12?`${Number((t/1e9).toFixed(2)).toLocaleString(e)} s`:t<36e11?`${Number((t/6e10).toFixed(2)).toLocaleString(e)} m`:`${Number((t/36e11).toFixed(2)).toLocaleString(e)} h`}function Q(t){let e=9;for(let r of t)e<r.length&&(e=r.length);return 2+e}function C({size:t,avg:e=!0,min_max:r=!0,percentiles:n=!0}){return"-".repeat(t+14*e+24*r)+(n?" "+"-".repeat(9+10+10):"")}function J(t,e,{size:r,avg:n=!0,colors:o=!0,min_max:c=!0,percentiles:i=!0}){return t.padEnd(r," ")+`${M(o,"error")}: ${e.message}${e.stack?`
`+w(o,e.stack):""}`}function Z({size:t,avg:e=!0,min_max:r=!0,percentiles:n=!0}){return"benchmark".padEnd(t," ")+(e?"time (avg)".padStart(14," "):"")+(r?"(min \u2026 max)".padStart(24," "):"")+(n?` ${"p75".padStart(9," ")} ${"p99".padStart(9," ")} ${"p995".padStart(9," ")}`:"")}function R(t,e,{size:r,avg:n=!0,colors:o=!0,min_max:c=!0,percentiles:i=!0}){return t.padEnd(r," ")+(n?`${O(o,v(e.avg))}/iter`.padStart(14+10*o," "):"")+(c?`(${_(o,v(e.min))} \u2026 ${L(o,v(e.max))})`.padStart(24+2*10*o," "):"")+(i?` ${w(o,v(e.p75)).padStart(9+10*o," ")} ${w(o,v(e.p99)).padStart(9+10*o," ")} ${w(o,v(e.p995)).padStart(9+10*o," ")}`:"")}function W(t,{colors:e=!0}={}){t=t.filter(n=>!n.error),t.sort((n,o)=>n.stats.avg-o.stats.avg);let r=t.find(n=>n.baseline)||t[0];return I(e,"summary")+(r.group==null||r.group.startsWith?.("$mitata_group")?"":w(e,` for ${r.group}`))+`
  ${I(e,_(e,r.name))}`+t.filter(n=>n!==r).map(n=>{let o=Number((1/r.stats.avg*n.stats.avg).toFixed(2)),c=Number((1/n.stats.avg*r.stats.avg).toFixed(2));return`
   ${T[1>o?"red":"green"](e,1<=o?o:c)}x ${1>o?"slower":"faster"} than ${I(e,_(e,n.name))}`}).join("")}var Ft=0,B=null,tt={},A=[],et=new Set,G=(async()=>{}).constructor;function E(t,e){let r={summary:t.summary??!0,name:(typeof t=="string"?t:t.name)||`$mitata_group${++Ft}`};B=r.name,et.add(r.name),tt[B]=r.summary,(e||t)(),B=null}function k(t,e){if([Function,G].includes(t.constructor)&&(e=t,t=e.name),![Function,G].includes(e.constructor))throw new TypeError(`expected function, got ${e.constructor.name}`);A.push({fn:e,name:t,group:B,time:500,warmup:!0,baseline:!1,async:G===e.constructor})}var N;try{if(N=console.log,typeof N!="function")throw 1}catch{N=print}function h(...t){N(...t)}function P(){return"Bun"in globalThis?"bun":"Deno"in globalThis?"deno":"process"in globalThis?"node":"navigator"in globalThis?"browser":"unknown"}function It(){return{unknown:()=>"",browser:()=>"",node:()=>process.version,deno:()=>Deno.version.deno,bun:()=>process.versions.bun}[P()]()}function _t(){return{unknown:()=>"unknown",browser:()=>"unknown",deno:()=>Deno.build.target,bun:()=>`${process.arch}-${process.platform}`,node:()=>`${process.arch}-${process.platform}`}[P()]()}async function Ut(){return await{unknown:()=>"unknown",browser:()=>"unknown",node:()=>import("os").then(t=>t.cpus()[0].model),bun:async()=>{try{if(process.platform==="linux"){let t=await import("fs"),e=new Uint8Array(64*1024),r=t.openSync("/proc/cpuinfo","r"),n=new TextDecoder().decode(e.subarray(0,t.readSync(r,e))).trim().split(`
`);t.closeSync(r);for(let o of n){let[c,i]=o.split(":");if(/model name|Hardware|Processor|^cpu model|chip type|^cpu type/.test(c))return i.trim()}}if(process.platform==="darwin"){let{ptr:t,dlopen:e,CString:r}=Bun.FFI,n=e("libc.dylib",{sysctlbyname:{args:["ptr","ptr","ptr","ptr","isize"],returns:"isize"}}).symbols.sysctlbyname,o=new Uint8Array(256),c=new BigInt64Array([256n]),i=new TextEncoder().encode("machdep.cpu.brand_string\0");if(Number(n(t(i),t(o),t(c),0,0))===-1)throw 0;return new r(t(o))}}catch{}return"unknown"},deno:async()=>{try{if(Deno.build.os==="darwin"){let t=Deno.run({stdin:"null",stderr:"null",stdout:"piped",cmd:["sysctl","-n","machdep.cpu.brand_string"]});return Deno.core.decode(await t.output()).trim()}if(Deno.build.os==="linux"){let t=new TextDecoder().decode(Deno.readFileSync("/proc/cpuinfo")).split(`
`);for(let e of t){let[r,n]=e.split(":");if(/model name|Hardware|Processor|^cpu model|chip type|^cpu type/.test(r))return n.trim()}}if(Deno.build.os==="windows"){let t=Deno.run({stdin:"null",stderr:"null",stdout:"piped",cmd:["wmic","cpu","get","name"]});return Deno.core.decode(await t.output()).split(`
`).at(-1).trim()}}catch{}return"unknown"}}[P()]()}async function rt(t={}){let e=t.colors??=!0,r=t.collect||!1,n=!!t.json||t.json===0;t.size=Q(A.map(c=>c.name));let o={benchmarks:A,cpu:await Ut(),runtime:`${`${P()} ${It()}`.trim()} (${_t()})`};n||(h(w(e,`cpu: ${o.cpu}`)),h(w(e,`runtime: ${o.runtime}`)),h(""),h(Z(t)),h(C(t)));t:{let c=!1,i=!1;for(let s of A)if(!s.group){s.baseline&&(i=!0),c=!0;try{s.stats=s.async?await D(s.time,s.fn,r):await j(s.time,s.fn,r),n||h(R(s.name,s.stats,t))}catch(u){s.error={stack:u.stack,message:u.message},n||h(J(s.name,u,t))}}i&&!n&&h(`
`+W(A.filter(s=>s.group===null),t));for(let s of et){n||(c&&h(""),s.startsWith("$mitata_group")||h(`\u2022 ${s}`),(c||!s.startsWith("$mitata_group"))&&h(w(e,C(t)))),c=!0;for(let u of A)if(s===u.group)try{u.stats=u.async?await D(u.time,u.fn,r):await j(u.time,u.fn,r),n||h(R(u.name,u.stats,t))}catch(S){u.error={stack:S.stack,message:S.message},n||h(J(u.name,S,t))}tt[s]&&!n&&h(`
`+W(A.filter(u=>s===u.group),t))}return n&&h(JSON.stringify(o,null,typeof t.json!="number"?0:t.json)),o}}var z=3e5,nt=H({a:F,b:F,c:F,d:F}),x,V;function Dt(){x=new nt(z);for(let t=0;t<z;t++)x.push({a:t,b:t+1,c:t+2,d:t+3})}function Tt(){V=[];for(let t=0;t<z;t++)V.push({a:t,b:t+1,c:t+2,d:t+3})}function Bt(){let t=0;x.move(0);for(let e=0;e<z;e++)t+=x.b-x.a+x.d-x.c,x.next();return t}function Nt(){let t=0;for(let e=0;e<z;e++){let r=V[e];t+=r.b-r.a+r.d-r.c}return t}function Et(){let t=0;x.move(0);for(let e=0;e<z;e++)t+=x.a,x.next();return t}function Pt(){let t=0;for(let e=0;e<z;e++)t+=V[e].a;return t}E("Array creation",()=>{k("Array",Tt),k("StructArray",Dt)});E("Array read (full)",()=>{k("StructArray",Bt),k("Array",Nt)});E("Array read (1 property)",()=>{k("StructArray",Et),k("Array",Pt)});await rt();
